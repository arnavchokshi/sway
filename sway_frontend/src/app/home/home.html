<div class="landing-bg">
  <nav class="landing-nav">
    <img src="assets/logoName.png" alt="Sway Logo" class="dashboard-logo">
    <div class="nav-links">
      <a class="nav-link" (click)="scrollToSection('features')">Features</a>
      <a href="#" class="nav-link" (click)="showContact()">Contact</a>
      <button class="get-started-btn" (click)="goToLogin()">Log in</button>
    </div>
  </nav>
  
  <!-- Hero Section -->
  <section class="hero-section" id="hero">
    <div class="hero-center-column">
      <div class="headline" data-aos="fade-up" data-aos-duration="1000">
        <span>Sync Your <span class="highlight-gradient">Vision</span></span><br />
        <span>Share Your Stage</span>
      </div>
      <div class="subheadline" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
        Seamlessly share formations with your dancers, making complex choreography instantly clear and rehearsals flow naturally.
      </div>
      <button class="get-started-new-btn" (click)="showOnboardingModal = true">
        <svg class="play-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><polygon points="5,3 19,12 5,21"/></svg>
        Get Started
      </button>
      
      <div class="feature-cards-container">
        <div class="feature-cards-track">
          <!-- Feature Card 1: Instant Sync -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Instant Sync</h3>
              <p>Real-time formation updates between captains and members</p>
            </div>
          </div>

          <!-- Feature Card 2: AI Tips -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>AI-Powered Tips</h3>
              <p>Intelligent suggestions for optimal formation placement</p>
            </div>
          </div>

          <!-- Feature Card 3: Skill-Based -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/>
                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
                <path d="M9 14l2 2 4-4"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Skill-Based Building</h3>
              <p>Optimize formations based on member skills and heights</p>
            </div>
          </div>

          <!-- Feature Card 4: 3D Visualization -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                <path d="M12 2v20"/>
                <path d="M2 7h20"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>3D Height Visualization</h3>
              <p>See formations in 3D with backdrop videos for immersive planning</p>
            </div>
          </div>

          <!-- Feature Card 5: Team Management -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Easy Team Management</h3>
              <p>Create teams, add members, and manage rosters effortlessly</p>
            </div>
          </div>

          <!-- Feature Card 6: Formation Sharing -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
                <polyline points="16,6 12,2 8,6"/>
                <line x1="12" y1="2" x2="12" y2="15"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Instant Formation Sharing</h3>
              <p>Share formations instantly with your entire team</p>
            </div>
          </div>

          <!-- Feature Card 7: Mobile Friendly -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                <line x1="12" y1="18" x2="12.01" y2="18"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Mobile Optimized</h3>
              <p>Access formations on any device, perfect for rehearsals</p>
            </div>
          </div>

          <!-- Feature Card 8: Performance Analytics -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 3v18h18"/>
                <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Effecient Form Building</h3>
              <p>User AI to automatically match movement of perfomers "mirrors"</p>
            </div>
          </div>

          <!-- Feature Card 9: Real-time Collaboration -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                <path d="M12 2v4"/>
                <path d="M12 18v4"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Real-time Collaboration</h3>
              <p>Multiple captains can work on formations simultaneously</p>
            </div>
          </div>



          <!-- Feature Card 11: Custom Backdrops -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21,15 16,10 5,21"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Custom Backdrops</h3>
              <p>Upload your own backdrop videos for realistic formation planning</p>
            </div>
          </div>


          <!-- Duplicate cards for seamless loop -->
          <!-- Feature Card 1: Instant Sync (Duplicate) -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>Instant Sync</h3>
              <p>Real-time formation updates between captains and members</p>
            </div>
          </div>

          <!-- Feature Card 2: AI Tips (Duplicate) -->
          <div class="feature-card-scroll">
            <div class="card-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
              </svg>
            </div>
            <div class="card-content">
              <h3>AI-Powered Tips</h3>
              <p>Intelligent suggestions for optimal formation placement</p>
            </div>
          </div>
        </div>
        <div class="feature-cards-fade"></div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section" id="features">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <h2>Powerful Features for Seamless Choreography</h2>
        <p>Everything you need to create, share, and perfect your formations</p>
      </div>

      <div class="features-grid">
        <!-- Feature 1: Instant Sync -->
        <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg>
          </div>
          <h3>Instant Sync Between Captain & Members</h3>
          <p>Captains create formations and members see them instantly. Real-time synchronization keeps everyone on the same page.</p>
          
          <div class="getting-started">
            <h4>Getting Started:</h4>
            <div class="user-flows">
              <div class="flow-section">
                <h5>For Captains</h5>
                <div class="steps-container">
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                      </svg>
                    </div>
                    <span>Create a team</span>
                  </div>
                  

                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="8.5" cy="7" r="4"/>
                        <line x1="20" y1="8" x2="20" y2="14"/>
                        <line x1="23" y1="11" x2="17" y2="11"/>
                      </svg>
                    </div>
                    <span>Add members to roster</span>
                  </div>
                  
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
                        <polyline points="16,6 12,2 8,6"/>
                        <line x1="12" y1="2" x2="12" y2="15"/>
                      </svg>
                    </div>
                    <span>Share code with dancers</span>
                  </div>
                  
                 
                  
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="12 2 2 7 12 12 22 7 12 2"/>
                        <polyline points="2 17 12 22 22 17"/>
                        <polyline points="2 12 12 17 22 12"/>
                      </svg>
                    </div>
                    <span>Create formations</span>
                  </div>
                </div>
              </div>
              
              <div class="flow-section">
                <h5>For Members</h5>
                <div class="steps-container">
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"/>
                        <path d="M21 12c-1 0-2-1-2-2s1-2 2-2 2 1 2 2-1 2-2 2z"/>
                        <path d="M3 12c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z"/>
                        <path d="M12 3c0 1-1 2-2 2s-2-1-2-2 1-2 2-2 2 1 2 2z"/>
                        <path d="M12 21c0-1 1-2 2-2s2 1 2 2-1 2-2 2-2-1-2-2z"/>
                      </svg>
                    </div>
                    <span>Enter team code</span>
                  </div>
                  
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="8.5" cy="7" r="4"/>
                        <line x1="20" y1="8" x2="20" y2="14"/>
                        <line x1="23" y1="11" x2="17" y2="11"/>
                      </svg>
                    </div>
                    <span>Select from roster</span>
                  </div>
                  
                  <div class="step-item">
                    <div class="step-icon">
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                        <circle cx="12" cy="12" r="3"/>
                      </svg>
                    </div>
                    <span>See all your formations</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Feature 2: AI Tips -->
        <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
            </svg>
          </div>
          <h3>AI-Powered Formation Tips</h3>
          <p>Get intelligent suggestions from our AI model built specifically for formations. Optimize height distribution, start/end positions, and more.</p>
          
          <div class="feature-images">
            <img src="assets/AITips1.png" alt="AI Tips Example 1" class="feature-image">
            <img src="assets/AITips2.png" alt="AI Tips Example 2" class="feature-image">
          </div>
        </div>

        <!-- Feature 3: Skill-Based Formations -->
        <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/>
              <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
              <path d="M9 14l2 2 4-4"/>
            </svg>
          </div>
          <h3>Skill-Based Formation Building</h3>
          <p>Build formations based on captains' input of member skills. Optimize placement for the best visual impact and performance quality.</p>
          
          <div class="feature-images">
            <img src="assets/skillImage.png" alt="Skill-Based Formation Example" class="feature-image">
          </div>
        </div>

        <!-- Feature 4: 3D Visualization -->
        <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
              <path d="M12 2v20"/>
              <path d="M2 7h20"/>
            </svg>
          </div>
          <h3>3D Height Visualization with Backdrop</h3>
          <p>Visualize user heights in 3D view and add backdrop videos for immersive formation planning. See your choreography come to life.</p>
          
          <div class="feature-images">
            <img src="assets/3dImage.png" alt="3D Visualization Example" class="feature-image">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer Section -->
  <footer class="footer-section">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="assets/logoName.png" alt="Sway Logo" class="footer-logo">
          <p class="footer-tagline">Sync Your Vision, Share Your Stage</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h4>Support</h4>
            <ul>
              <li><a href="mailto:achokshi38@gatech.edu">Email Support</a></li>
              <li><a href="https://linkedin.com/in/arnav-chokshi" target="_blank">LinkedIn</a></li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="footer-divider"></div>
        <div class="footer-legal">
          <p>&copy; 2025 Sway. All rights reserved. Supported by M ü§ç</p>
          <p>Built by a dancer for dances</p>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Scroll to Top Button -->
<button class="scroll-to-top" (click)="scrollToTop()" *ngIf="showScrollToTop">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M18 15l-6-6-6 6"/>
  </svg>
</button>

<!-- Login Popup -->
<div class="login-popup-overlay" *ngIf="showLoginPopup" (click)="closeLoginPopup()">
  <div class="login-popup-content" (click)="$event.stopPropagation()">
    <div class="onboarding-modal-header">
      <div class="header-left">
        <div class="segment-logo-container">
          <img src="assets/logo.png" alt="Sway Logo" class="segment-logo">
        </div>
        <span class="onboarding-modal-title">Login     </span>
      </div>
      <button class="onboarding-modal-close" (click)="closeLoginPopup()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="onboarding-modal-body">
      <app-login (close)="closeLoginPopup()"></app-login>
    </div>
  </div>
</div>

<!-- Join Team Modal -->
<div class="join-team-overlay" *ngIf="showJoinTeamModal" (click)="closeJoinTeamModal()">
  <div class="join-team-modal" (click)="$event.stopPropagation()">
    <!-- Step 1: Enter Team Code -->
    <div class="modal-step" *ngIf="joinStep === 1">
      <h2>Join a Team</h2>
      <div class="join-code-form">
        <input type="text" [(ngModel)]="joinCode" name="joinCode" placeholder="Enter team code" />
        <button class="join-submit-btn" (click)="verifyTeamCode()">Join Team</button>
      </div>
    </div>

    <!-- Step 2: Select Name -->
    <div class="modal-step" *ngIf="joinStep === 2">
      <h2>Select Your Name </h2>
      <div class="team-members-list">
        <button 
          *ngFor="let member of sortedTeamMembers" 
          class="member-btn"
          [class.selected]="selectedMember === member"
          [disabled]="member.email"
          (click)="selectMember(member)">
          <div class="member-info">
            <span class="member-name">{{member.name}}</span>
            <span class="member-status" *ngIf="member.email">Already has account</span>
          </div>
        </button>
      </div>
      <button class="continue-btn" [disabled]="!selectedMember" (click)="goToStep3()">Continue</button>
    </div>

    <!-- Step 3: Complete Profile -->
    <div class="modal-step" *ngIf="joinStep === 3">
      <h2>Complete Your Profile {{selectedMember?.name}}</h2>
      <form (ngSubmit)="submitJoinTeam()">
        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="userEmail" name="userEmail" placeholder="Enter your email" required />
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" [(ngModel)]="userPassword" name="userPassword" placeholder="Create a password" required />
        </div>
        <div class="form-group">
          <label>Height</label>
          <div class="height-inputs">
            <input type="number" [(ngModel)]="heightFeet" name="heightFeet" placeholder="3-8" min="0" max="8" required />
            <span class="height-unit">ft</span>
            <input type="number" [(ngModel)]="heightInches" name="heightInches" placeholder="0-11" min="0" max="11" required />
            <span class="height-unit">in</span>
          </div>
        </div>
        <div class="form-group">
          <label>Gender</label>
          <select [(ngModel)]="gender" name="gender" required>
            <option value="">Select gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
        <button type="submit" class="continue-btn">Complete Profile</button>
      </form>
    </div>

    <button class="close-modal-btn" (click)="closeJoinTeamModal()">√ó</button>
    
    <!-- Step indicator -->
    <div class="step-indicator">
      <div class="step" [class.active]="joinStep >= 1"></div>
      <div class="step" [class.active]="joinStep >= 2"></div>
      <div class="step" [class.active]="joinStep === 3"></div>
    </div>
  </div>
</div>

<!-- Contact Modal -->
<div class="modal-overlay" *ngIf="showContactModal" (click)="closeContactModal()">
  <div class="modal-content contact-modal" (click)="$event.stopPropagation()">
    <button class="close-modal-btn" (click)="closeContactModal()">√ó</button>
    
    <div class="contact-header">
      <h2>Get in Touch</h2>
      <p class="contact-subtitle">Thanks for using Sway!</p>
    </div>
    
    <div class="contact-message">
      <p>I would love to hear your thoughts! Whether it's suggestions for new features, bug reports, or just general thoughts!</p>
    </div>
    
    <div class="contact-info">
      <div class="contact-item">
        <div class="contact-label">Email</div>
        <a href="mailto:achokshi38@gatech.edu" class="contact-link">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
          </svg>
          achokshi38&#64;gatech.edu
        </a>
      </div>
      
      <div class="contact-item">
        <div class="contact-label">LinkedIn</div>
        <a href="https://linkedin.com/in/arnav-chokshi" target="_blank" class="contact-link">
          <svg class="linkedin-logo" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
          arnav-chokshi
        </a>
      </div>
    </div>
    
   
  </div>
</div>

<!-- Onboarding Modal -->
<div class="onboarding-modal-overlay" *ngIf="showOnboardingModal" (click)="showOnboardingModal = false">
  <div class="onboarding-modal" (click)="$event.stopPropagation()">
    <!-- Header -->
    <div class="onboarding-modal-header">
      <div class="header-left">
        <div class="segment-logo-container">
          <img src="assets/logo.png" alt="Sway Logo" class="segment-logo">
        </div>
        <span class="onboarding-modal-title">
          {{ currentStep === 'choice' ? 'Welcome to SWAY' :
             currentStep === 'create-team' ? 'Create Your Team' :
             currentStep === 'join-team' ? 'Join a Team' :
             currentStep === 'success' ? "You're All Set!" : '' }}
        </span>
      </div>
      <button class="onboarding-modal-close" (click)="closeOnboardingModal()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="onboarding-modal-body">
      <!-- Step: Choice -->
      <ng-container *ngIf="currentStep === 'choice'">
        <div class="onboarding-choice-header">
          <p class="choice-title">How would you like to get started?</p>
          <p class="choice-desc">Choose your path to begin choreographing</p>
        </div>
        <div class="onboarding-choice-cards">
          <div class="onboarding-choice-card" (click)="currentStep = 'create-team'">
            <div class="choice-card-icon-bg gradient-crown">
              <span class="crown-symbol">üú≤</span>
            </div>
            <div class="choice-card-title">Create a Team</div>
            <div class="choice-card-desc">Start fresh as a team captain and invite your dancers</div>
            <div class="choice-card-badge badge-choreo">Perfect for Captains</div>
          </div>
          <div class="onboarding-choice-card" (click)="currentStep = 'join-team'">
            <div class="choice-card-icon-bg gradient-join">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="7" r="4" stroke="white" stroke-width="2"/><path d="M17 11h6m-3-3v6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="choice-card-title">Join a Team</div>
            <div class="choice-card-desc">Connect with your existing team using an invite code</div>
            <div class="choice-card-badge badge-dancer">Perfect for Dancers</div>
          </div>
        </div>
      </ng-container>
      <!-- Step: Create Team -->
      <ng-container *ngIf="currentStep === 'create-team'">
        <div class="onboarding-step-header">
          <button class="onboarding-back-btn" (click)="currentStep = 'choice'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 19l-7-7 7-7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span class="onboarding-step-desc">Set up your choreography team</span>
        </div>
        <form class="onboarding-form">
          <div class="onboarding-form-row">
            <div class="onboarding-form-group">
              <label><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="7" r="4" stroke="#fff" stroke-width="2"/><path d="M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" stroke="#fff" stroke-width="2"/></svg> Your Name</label>
              <input type="text" [(ngModel)]="formData.name" name="name" placeholder="Enter your full name" />
            </div>
            <div class="onboarding-form-group">
              <label><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="#fff" stroke-width="2"/><polyline points="22,6 12,13 2,6" stroke="#fff" stroke-width="2"/></svg> Email Address</label>
              <input type="email" [(ngModel)]="formData.email" name="email" placeholder="your@email.com" />
            </div>
          </div>
          <div class="onboarding-form-row">
            <div class="onboarding-form-group">
              <label><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><rect x="6" y="11" width="12" height="10" rx="2" stroke="#fff" stroke-width="2"/><path d="M12 17v.01" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="M8 11V7a4 4 0 1 1 8 0v4" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg> Password</label>
              <input type="password" [(ngModel)]="formData.password" name="password" placeholder="Create a secure password" />
            </div>
            <div class="onboarding-form-group">
              <label><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" stroke="#fff" stroke-width="2"/><circle cx="12" cy="7" r="4" stroke="#fff" stroke-width="2"/></svg> Team Name</label>
              <input type="text" [(ngModel)]="formData.teamName" name="teamName" placeholder="Your dance team name" />
            </div>
          </div>
          <button type="button" class="onboarding-gradient-btn" [disabled]="!formData.name || !formData.email || !formData.password || !formData.teamName" (click)="createTeamAndUser()">
            Create Team & Get Started
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </form>
      </ng-container>
      <!-- Step: Join Team -->
      <ng-container *ngIf="currentStep === 'join-team'">
        <div class="onboarding-step-header">
          <button class="onboarding-back-btn" (click)="currentStep = 'choice'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 19l-7-7 7-7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span class="onboarding-step-desc">Connect with your team</span>
        </div>
        <div class="onboarding-join-team-content">
          <div class="join-team-icon-bg">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="8" fill="url(#join-grad)"/><path d="M16 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="9" cy="7" r="4" stroke="#fff" stroke-width="2"/><path d="M17 11h6m-3-3v6" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><defs><linearGradient id="join-grad" x1="0" y1="0" x2="24" y2="24" gradientUnits="userSpaceOnUse"><stop stop-color="#22c55e"/><stop offset="1" stop-color="#10b981"/></linearGradient></defs></svg>
          </div>
          <div class="join-team-title">Enter Team Code</div>
          <input class="join-team-code-input" maxlength="7" [(ngModel)]="formData.teamCode" name="teamCode" placeholder="Enter 7-character team code" (input)="validateTeamCodeInput($event)" />
          <div class="join-team-error" *ngIf="joinTeamError">{{ joinTeamError }}</div>
          <button type="button" class="onboarding-gradient-btn" [disabled]="!formData.teamCode || formData.teamCode.length !== 7" (click)="verifyJoinCode()">
            Join Team
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          
        </div>
      </ng-container>
      <!-- Step: Show Join Code -->
      <ng-container *ngIf="currentStep === 'show-join-code'">
        <div class="onboarding-success-content">
          <div class="success-title">Your Team's Join Code</div>
          <div class="join-code-value">
            <ng-container *ngIf="!editingJoinCode">
              {{ joinCode }}
              <button class="edit-code-btn" (click)="startEditJoinCode()" title="Edit Code">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
            </ng-container>
            <ng-container *ngIf="editingJoinCode">
              <input type="text" [(ngModel)]="editJoinCodeValue" maxlength="7" class="edit-code-input-inline" (input)="clearJoinCodeError()" />
              <button class="save-code-btn" (click)="saveJoinCodeEdit()" title="Save">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M5 13l4 4L19 7" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="cancel-code-btn" (click)="editingJoinCode = false" title="Cancel">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="#ff5e62" stroke-width="2" stroke-linecap="round"/></svg>
              </button>
            </ng-container>
          </div>
          <div class="edit-code-error" *ngIf="joinCodeError">{{ joinCodeError }}</div>
          <div class="success-desc">Share this code with your dancers so they can join your team.</div>
          <div class="join-code-actions">
            <button type="button" class="onboarding-gradient-btn" (click)="continueAfterJoinCode()">
              Continue
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
          </div>
        </div>
      </ng-container>
      <!-- Step: Select Member -->
      <ng-container *ngIf="currentStep === 'select-member'">
        <div class="select-member-heading">Select your <span class="green-highlight">name</span></div>
        <div class="select-member-subheading">If you don't see your name, contact your captain.</div>
        <div class="select-member-list">
          <button *ngFor="let member of teamMembers" class="select-member-btn" [disabled]="member.email" (click)="selectMember(member)">
            <span class="member-name">{{ member.name }}</span>
            <span class="member-status" *ngIf="member.email">Already has account</span>
          </button>
        </div>
      </ng-container>
      <!-- Step: Complete Profile (for new users) -->
      <ng-container *ngIf="currentStep === 'complete-profile' && isNewUser">
        <div class="onboarding-step-header">
          <button class="onboarding-back-btn" (click)="currentStep = 'select-member'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 19l-7-7 7-7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span class="onboarding-step-desc">Complete your profile</span>
        </div>
        <form class="onboarding-form">
          <div class="onboarding-form-row">
            <div class="onboarding-form-group">
              <label>Email</label>
              <input type="email" [(ngModel)]="formData.email" name="userEmail" placeholder="Enter your email" required />
            </div>
            <div class="onboarding-form-group">
              <label>Password</label>
              <input type="password" [(ngModel)]="formData.password" name="userPassword" placeholder="Create a password" required />
            </div>
          </div>
          <div class="onboarding-form-row">
            <div class="onboarding-form-group">
              <label>Height</label>
              <div style="display: flex; gap: 0.5rem; align-items: center;">
                <input type="number" [(ngModel)]="formData.heightFeet" name="heightFeet" placeholder="3-8" min="0" max="8" required style="width: 60px;" />
                <span class="height-unit">ft</span>
                <input type="number" [(ngModel)]="formData.heightInches" name="heightInches" placeholder="0-11" min="0" max="11" required style="width: 60px;" />
                <span class="height-unit">in</span>
              </div>
            </div>
            <div class="onboarding-form-group">
              <label>Gender</label>
              <select [(ngModel)]="formData.gender" name="gender" required>
                <option value="">Select gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
          <button type="button" class="onboarding-gradient-btn" [disabled]="!formData.email || !formData.password || !formData.heightFeet || !formData.heightInches || !formData.gender" (click)="completeProfile()">
            Complete Profile
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </form>
      </ng-container>
      <!-- Step: Password Prompt (for existing users) -->
      <ng-container *ngIf="currentStep === 'complete-profile' && !isNewUser">
        <div class="onboarding-step-header">
          <button class="onboarding-back-btn" (click)="currentStep = 'select-member'">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M15 19l-7-7 7-7" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <span class="onboarding-step-desc">Sign in to your account</span>
        </div>
        <form class="onboarding-form">
          <div class="onboarding-form-row">
            <div class="onboarding-form-group">
              <label>Password</label>
              <input type="password" [(ngModel)]="formData.password" name="userPassword" placeholder="Enter your password" required />
            </div>
          </div>
          <button type="button" class="onboarding-gradient-btn" [disabled]="!formData.password" (click)="completeProfile()">
            Sign In
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </form>
      </ng-container>
      <!-- Step: Success -->
      <ng-container *ngIf="currentStep === 'success'">
        <div class="onboarding-success-content">
          <div class="success-icon-bg">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="12" fill="url(#success-grad)"/><path d="M9 12l2 2 4-4" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><defs><linearGradient id="success-grad" x1="0" y1="0" x2="24" y2="24" gradientUnits="userSpaceOnUse"><stop stop-color="#22c55e"/><stop offset="1" stop-color="#10b981"/></linearGradient></defs></svg>
          </div>
          <div class="success-title">Welcome to SWAY!</div>
          <div class="success-desc">You're ready to start creating amazing choreography</div>
          <button type="button" class="onboarding-gradient-btn" (click)="finishOnboarding()">
            Start Choreographing
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 10h10M13 6l4 4-4 4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</div>